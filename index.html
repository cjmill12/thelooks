<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hairstyle Virtual Try-On</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div id="app-header">
        <div id="main-title-container">
            <img id="header-logo" src="assets/staghouse.png" alt="Stag House Logo">
            <h1 id="main-title">Stag House</h1>
        </div>
    </div>

    <div id="main-app-container">
        <div class="gender-buttons-container">
            <button id="male-gender-btn" class="gender-button">Male</button>
            <button id="female-gender-btn" class="gender-button">Female</button>
        </div>

        <div id="additional-filters-selector" class="filter-section collapsed">
            <h3><span>+ Additional Filters</span><span class="icon"></span></h3>
            <div class="filter-content-group">
                <p style="font-size: 0.9em; font-weight: bold; margin-bottom: 5px;">Complexion (Optional)</p>
                <div id="complexion-options-group" class="filter-options-group">
                    <div class="complexion-tile" style="background-color: #F8D7BE;" data-complexion="Light" data-complexion-code="default"></div>
                    <div class="complexion-tile" style="background-color: #D6A476;" data-complexion="Medium" data-complexion-code="default"></div>
                    <div class="complexion-tile" style="background-color: #A97A52;" data-complexion="Dark" data-complexion-code="ds"></div>
                    <div class="complexion-tile" style="background-color: #6A3E26;" data-complexion="Deep" data-complexion-code="ds"></div>
                </div>
            </div>
        </div>
        
        <div id="central-section">
            <div id="central-viewport">
                <div id="camera-placeholder-icon"></div>
                <video id="video-feed" autoplay playsinline></video>
                <img id="ai-result" style="display: none;" src="" alt="AI Hairstyle Result">
                <p id="status-message">Tap the silhouette above to take a selfie.</p>
            </div>
        </div>
        
        <div id="controls-footer-row">
            <button id="camera-capture-btn" class="circular-action-btn main-action-btn" disabled>ðŸ“¸</button> 
            <button id="redo-selfie-btn" class="circular-action-btn main-action-btn" style="display: none;">ðŸ”„</button>
            <button id="generate-look-btn" class="circular-action-btn main-action-btn" style="display: none;">âœ¨</button>
            <div id="loading-spinner" class="spinner" style="display: none;"></div>
            <button id="book-appointment-btn" class="main-action-btn" style="display: none;">Book Appointment</button>
        </div>

        <div id="style-inspiration-section">
            <p>Get the Look</p>
            <div id="male-hairstyle-options-group" class="hairstyle-options-group-wrapper"></div>
            <div id="female-hairstyle-options-group" class="hairstyle-options-group-wrapper" style="display: none;">
                <div class="style-option" data-prompt="A shoulder-length cut with soft waves and natural volume, warm brunette color, gentle face-framing layers.">
                    <img class="style-thumbnail" src="styles/female/style1.png" alt="Soft Wavy Layers">
                    <p>Soft Wavy Layers</p>
                </div>
                <div class="style-option" data-prompt="A long layered hairstyle with loose curls, dark brown color, flowing and romantic silhouette.">
                    <img class="style-thumbnail" src="styles/female/style2.png" alt="Long Loose Curls">
                    <p>Long Loose Curls</p>
                </div>
                <div class="style-option" data-prompt="A sleek straight bob cut at chin length, jet black color, sharp and modern profile.">
                    <img class="style-thumbnail" src="styles/female/style3.png" alt="Sleek Chin Bob">
                    <p>Sleek Chin Bob</p>
                </div>
                </div>
        </div>
    </div> 

    <canvas id="hidden-canvas" style="display: none;"></canvas>

    <div id="booking-modal-overlay" class="modal-overlay">
        <div class="booking-modal">
            <button class="modal-close-btn" id="modal-close-btn">&times;</button>
            <h2>Book Your Look</h2>
            <div class="modal-content">
                <p>You are booking the style reference below:</p>
                <img id="reference-image-preview" src="" alt="AI Generated Style Reference">
                <p style="font-size: 0.8em; margin-top: 5px; color: #555;">**Style Selected: <span id="selected-style-name"></span>**</p>
                
                <form id="booking-form">
                    <label for="name">Your Name</label>
                    <input type="text" id="name" name="name" required>
                    <label for="email">Email</label>
                    <input type="email" id="email" name="email" required>
                    <label for="date">Select Date</label>
                    <input type="date" id="date" name="date" required>
                    <label for="time">Select Time</label>
                    <select id="time" name="time" required>
                        <option value="">Loading availability...</option>
                    </select>
                    <button type="submit" class="submit-btn" disabled>Confirm Booking</button>
                    <p id="booking-status-message" style="margin-top: 10px; color: #dc3545; font-weight: bold;"></p>
                </form>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>
